{% extends 'bootstrap.html' %}


{# Load the tag library #}
{% load bootstrap3 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

{% block bootstrap3_content %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'urlcheck/style.css' %}" />

{% block js %}
<script>
	function showAnalyzeText() {
		var input = document.getElementById("urlInput").value;
		document.getElementById("loadingText").innerHTML = "Analysing "+input+" ...";
		document.getElementById("loadingMessage").style.visibility = "visible";
	}
</script>

{% endblock js %}

	<div class="container">
		<h1 class="centeredText"><a href="/">{% block title %}SSLCHECKER{% endblock %}</a></h1>
		
		<form action="/checkurl/" method="post" class="form centeredText">
			{% csrf_token %}
			
			<input id="urlInput" type="text" name="textfield">
			{% buttons %}
				<button id="check_button" type="submit" class="btn btn-primary text-center" onclick="showAnalyzeText()"><span class="glyphicon glyphicon-search fa-5x"></span><br>Check Server</button>

			{% endbuttons %}
		</form>

		{% if errorMessage %}
			<div class="errorMessage centeredText">{{errorMessage}}</div>
		{% endif %}

		<div id="loadingMessage"> 
			<div class="centeredText" id="loadingText"></div>
			<div class="loader"></div> 
		</div>

		{% autoescape off %}{% bootstrap_messages %}{% endautoescape %}
		{% block checkResults %} {% endblock %}
	</div>
{% endblock %}

